<HTML
><HEAD
><TITLE
>Events</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="phpSecureSite 0.1.2 documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="Reference"
HREF="ref.html"><LINK
REL="PREVIOUS"
TITLE="Constants"
HREF="ref.const.html"><LINK
REL="NEXT"
TITLE="Handlers"
HREF="ref.handlers.html"></HEAD
><BODY
CLASS="SECTION"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>phpSecureSite 0.1.2 documentation</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="ref.const.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 9. Reference</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="ref.handlers.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECTION"
><H1
CLASS="SECTION"
><A
NAME="REF.EVENTS"
></A
>Events</H1
><P
>			Events are emitted at certain places during phpSecureSite execution.
			Modules can register hook functions for these events, to be called
			whenever the event occurs. This is the primary mechanism for interaction
			between modules and the core system. More information on events is available
			in the <A
HREF="moduledev.events.html"
><I
>The event system</I
></A
>
			section.
		</P
><P
>			Events are sorted by the order in which the are emitted, and grouped by
			their context.
		</P
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="REF.EVENTS.SYSTEM"
></A
>System-related events</H2
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN2167"
></A
><P
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Event</TH
><TH
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
>Data</TH
><TH
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Description</TH
></TR
></THEAD
><TBODY
><TR
><A
NAME="REF.EVENTS.SYSTEM_INIT"
></A
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_SYSTEM_INIT</TT
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>System is initialized (database link opened, modules loaded etc)</TD
></TR
><TR
><A
NAME="REF.EVENTS.SYSTEM_DBCLEAN"
></A
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_SYSTEM_DBCLEAN</TT
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>sessions</TT
></TD
><TD
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Database is being cleaned</TD
></TR
><TR
><A
NAME="REF.EVENTS.SYSTEM_SHUTDOWN"
></A
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_SYSTEM_SHUTDOWN</TT
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Script execution is completed. Called after PHP has flushed output buffers, so no output is possible</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="REF.EVENTS.LOGIN"
></A
>Session creation, <TT
CLASS="FUNCTION"
>phpss_login()</TT
></H2
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN2197"
></A
><P
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Event</TH
><TH
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
>Data</TH
><TH
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Description</TH
></TR
></THEAD
><TBODY
><TR
><A
NAME="REF.EVENTS.LOGIN_PRE"
></A
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_LOGIN_PRE</TT
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>username</TT
>, <TT
CLASS="VARNAME"
>password</TT
></TD
><TD
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Start of login process</TD
></TR
><TR
><A
NAME="REF.EVENTS.LOGIN_AUTH"
></A
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_LOGIN_AUTH</TT
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>accountid</TT
>, <TT
CLASS="VARNAME"
>username</TT
>, <TT
CLASS="VARNAME"
>password</TT
></TD
><TD
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>User has been authenticated, but the session has not been created</TD
></TR
><TR
><A
NAME="REF.EVENTS.LOGIN_FAIL"
></A
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_LOGIN_FAIL</TT
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>username</TT
>, <TT
CLASS="VARNAME"
>password</TT
></TD
><TD
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Authentication failed, or a <A
HREF="ref.events.html#REF.EVENTS.LOGIN_AUTH"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_LOGIN_AUTH</TT
></A
> hook failed</TD
></TR
><TR
><A
NAME="REF.EVENTS.LOGIN_SUCCESS"
></A
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_LOGIN_SUCCESS</TT
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>accountid</TT
></TD
><TD
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Session has been created</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="REF.EVENTS.VALIDATE"
></A
>Session validation, <TT
CLASS="FUNCTION"
>phpss_validate()</TT
></H2
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN2241"
></A
><P
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Event</TH
><TH
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
>Data</TH
><TH
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Description</TH
></TR
></THEAD
><TBODY
><TR
><A
NAME="REF.EVENTS.VALIDATE_PRE"
></A
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_VALIDATE_PRE</TT
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>sessionkey</TT
></TD
><TD
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Start of session validation</TD
></TR
><TR
><A
NAME="REF.EVENTS.VALIDATE_CHECK"
></A
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_VALIDATE_CHECK</TT
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>sessionkey</TT
></TD
><TD
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Session validation check was successful, but session is not updated yet</TD
></TR
><TR
><A
NAME="REF.EVENTS.VALIDATE_FAIL"
></A
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_VALIDATE_FAIL</TT
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Session validation failed, or a <A
HREF="ref.events.html#REF.EVENTS.VALIDATE_CHECK"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_VALIDATE_CHECK</TT
></A
> hook failed</TD
></TR
><TR
><A
NAME="REF.EVENTS.VALIDATE_SUCCESS"
></A
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_VALIDATE_SUCCESS</TT
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>sessionkey</TT
></TD
><TD
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Session is validated</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="REF.EVENTS.LOGOUT"
></A
>Session closing, <TT
CLASS="FUNCTION"
>phpss_logout()</TT
></H2
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN2280"
></A
><P
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
>Event</TH
><TH
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
>Data</TH
><TH
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Description</TH
></TR
></THEAD
><TBODY
><TR
><A
NAME="REF.EVENTS.LOGOUT_PRE"
></A
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_LOGOUT_PRE</TT
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>sessionkey</TT
></TD
><TD
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Start of logout process</TD
></TR
><TR
><A
NAME="REF.EVENTS.LOGOUT_POST"
></A
><TD
WIDTH="33%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_EVENT_LOGOUT_POST</TT
></TD
><TD
WIDTH="17%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>sessionkey</TT
></TD
><TD
WIDTH="50%"
ALIGN="LEFT"
VALIGN="TOP"
>Session har been destroyed</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="ref.const.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="ref.handlers.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Constants</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ref.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Handlers</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>