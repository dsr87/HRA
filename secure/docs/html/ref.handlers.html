<HTML
><HEAD
><TITLE
>Handlers</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="phpSecureSite 0.1.2 documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="Reference"
HREF="ref.html"><LINK
REL="PREVIOUS"
TITLE="Events"
HREF="ref.events.html"><LINK
REL="NEXT"
TITLE="Database structure"
HREF="ref.database.html"></HEAD
><BODY
CLASS="SECTION"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>phpSecureSite 0.1.2 documentation</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="ref.events.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 9. Reference</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="ref.database.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECTION"
><H1
CLASS="SECTION"
><A
NAME="REF.HANDLERS"
></A
>Handlers</H1
><P
>			Handlers are used by all special modules (ie not normal modules).
			A handler is a function which is to be used for a specific task.
			More information is available in the <A
HREF="moduledev.handlers.html"
><I
>Handlers</I
></A
>
			section.
		</P
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="REF.HANDLERS.AUTH"
></A
>Authentication handlers</H2
><P
>				These handlers are provided by auth modules, and take care of
				authentication-related tasks, including account/group data lookups.
			</P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN2310"
></A
><P
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Type</TH
><TH
WIDTH="14%"
ALIGN="LEFT"
VALIGN="TOP"
>Parameters</TH
><TH
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Returns</TH
><TH
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Description</TH
></TR
></THEAD
><TBODY
><TR
><A
NAME="REF.HANDLERS.AUTH_ACCOUNTDATA"
></A
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_HANDLER_AUTH_ACCOUNTDATA</TT
></TD
><TD
WIDTH="14%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>accountid</TT
></TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>array(<TT
CLASS="VARNAME"
>id</TT
>, <TT
CLASS="VARNAME"
>username</TT
>, <TT
CLASS="VARNAME"
>password</TT
>), or <TT
CLASS="LITERAL"
>false</TT
> if invalid account</TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Fetches account data</TD
></TR
><TR
><A
NAME="REF.HANDLERS.AUTH_ACCOUNTGROUPS"
></A
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_HANDLER_AUTH_ACCOUNTGROUPS</TT
></TD
><TD
WIDTH="14%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>accountid</TT
></TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Array of group ids</TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Fetches groups that an account is a member of</TD
></TR
><TR
><A
NAME="REF.HANDLERS.AUTH_ACCOUNTID"
></A
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_HANDLER_AUTH_ACCOUNTID</TT
></TD
><TD
WIDTH="14%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>username</TT
></TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>accountid</TT
></TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Looks up account id based on username</TD
></TR
><TR
><A
NAME="REF.HANDLERS.AUTH_AUTHENTICATE"
></A
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_HANDLER_AUTH_AUTHENTICATE</TT
></TD
><TD
WIDTH="14%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>username</TT
>, <TT
CLASS="VARNAME"
>password</TT
></TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>accountid</TT
>, or <TT
CLASS="LITERAL"
>false</TT
> if wrong</TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Authenticates a user</TD
></TR
><TR
><A
NAME="REF.HANDLERS.AUTH_GROUPDATA"
></A
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_HANDLER_AUTH_GROUPDATA</TT
></TD
><TD
WIDTH="14%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>groupid</TT
></TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>array(<TT
CLASS="VARNAME"
>id</TT
>, <TT
CLASS="VARNAME"
>name</TT
>)</TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Fetches data for a group, or false if not found</TD
></TR
><TR
><A
NAME="REF.HANDLERS.AUTH_GROUPID"
></A
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_HANDLER_AUTH_GROUPID</TT
></TD
><TD
WIDTH="14%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>groupname</TT
></TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>groupid</TT
></TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Looks up group id from group name</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="REF.HANDLERS.DB"
></A
>Database handlers</H2
><P
>				Database handlers are provided by database modules, and handles
				database-related tasks.
			</P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN2379"
></A
><P
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Type</TH
><TH
WIDTH="14%"
ALIGN="LEFT"
VALIGN="TOP"
>Parameters</TH
><TH
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Returns</TH
><TH
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Description</TH
></TR
></THEAD
><TBODY
><TR
><A
NAME="REF.HANDLERS.DB_CLOSE"
></A
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_HANDLER_DB_CLOSE</TT
></TD
><TD
WIDTH="14%"
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Closes the database link</TD
></TR
><TR
><A
NAME="REF.HANDLERS.DB_CONNECT"
></A
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_HANDLER_DB_CONNECT</TT
></TD
><TD
WIDTH="14%"
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Connects to the database</TD
></TR
><TR
><A
NAME="REF.HANDLERS.DB_ESCAPESTRING"
></A
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_HANDLER_DB_ESCAPESTRING</TT
></TD
><TD
WIDTH="14%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>string</TT
></TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>escapedstring</TT
></TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Escapes special chars so the string is safe to put in a query</TD
></TR
><TR
><A
NAME="REF.HANDLERS.DB_QUERY"
></A
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_HANDLER_DB_QUERY</TT
></TD
><TD
WIDTH="14%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>query</TT
></TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>array[row][column]</TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Executes a query, returns a matrix</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="REF.HANDLERS.LOG"
></A
>Log handlers</H2
><P
>				Log handlers are provided by log modules, and handles various
				log tasks.
			</P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN2422"
></A
><P
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Type</TH
><TH
WIDTH="14%"
ALIGN="LEFT"
VALIGN="TOP"
>Parameters</TH
><TH
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Returns</TH
><TH
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Description</TH
></TR
></THEAD
><TBODY
><TR
><A
NAME="REF.HANDLERS.LOG_MESSAGE"
></A
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="CONSTANT"
>PHPSS_HANDLER_LOG_MESSAGE</TT
></TD
><TD
WIDTH="14%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="VARNAME"
>module</TT
>, <TT
CLASS="VARNAME"
>moduletype</TT
>, <TT
CLASS="VARNAME"
>class</TT
>, <TT
CLASS="VARNAME"
>date</TT
>, <TT
CLASS="VARNAME"
>sessionkey</TT
>, <TT
CLASS="VARNAME"
>ip</TT
>, <TT
CLASS="VARNAME"
>uri</TT
>, <TT
CLASS="VARNAME"
>message</TT
>, <TT
CLASS="VARNAME"
>info</TT
></TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>&nbsp;</TD
><TD
WIDTH="29%"
ALIGN="LEFT"
VALIGN="TOP"
>Writes a message to the log</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="ref.events.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="ref.database.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Events</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ref.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Database structure</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>